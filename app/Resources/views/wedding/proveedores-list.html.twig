{% extends 'wedding/layout.html.twig' %}
{% block title %}Proveedores{% endblock %}
{% block main_title %}

    <div class="container">
        <div class="row">
            <div class="tittle_base">
                <img src="{{ asset('images/proveedores_tittle.png') }}" alt="Proveedores Tittle">
            </div>
        </div>
    </div>
{% endblock %}



{% block content %}
    {{ parent() }}
    {% set direction = proveedores.getDirection() %}
    <div class="container">
        <div class="row">
            <div class="col-md-12 col-xs-12">
                <form class="filtros_proveedores" action="{{ path(app.request.attributes.get('_route'),app.request.attributes.get('_route_params')) }}" method="get" class="form_sort" id="myForm">
                    <select class="btn dropdown-toggle btn-tittle" id="sort_list" name="sort">
                        <option {% if proveedores.isSorted('p.registeredAt') %} selected {% endif %} value="p.registeredAt">Fecha</option>
                        <option {% if proveedores.isSorted('p.nombre') %} selected {% endif %} value="p.nombre">Nombre</option>
                    </select>
                    <select class="btn dropdown-toggle btn-tittle" id="sort_list" name="direction">
                        <option {% if direction=='desc' %} selected {% endif %} value="desc">Descendiente</option>
                        <option {% if direction=='asc' %} selected {% endif %} value="asc">Ascendente</option>
                    </select>
                    <input class="btn btn-wedding-entrar" type="submit" value="Filtrar">
                </form>
            </div>
        </div>


        <div class="proveedores2 row">

            {% for p in proveedores %}

                    <div class="col-sm-6 col-md-4">
                        <a href="{{ path('proveedor_detail', {'slug_site': 'wedding','slug_proveedor': p.slug}) }}">
                            <div class="thumbnail">
                                <div class="card">
                                    <div class="front">
                                        {% for f in p.fotos  %}
                                            {% if f.isListado %}
                                                <div class="img-circle logo-circle">
                                                    <img id="logo-circle" src="{{ asset('images/proveedores/logo/'~p.logo.logoName)}}" alt="{{ p.nombre }}">
                                                </div>
                                                <img src="{{ asset('images/proveedores/fotos/'~f.img)}}" alt="{{ f.proveedor.nombre}}">
                                            {% endif %}
                                        {% endfor %}
                                    </div>
                                    <div class="back">
                                        <img src="{{ asset('images/proveedores/logo/'~p.logo.logoName)}}" alt="{{ p.nombre }}">
                                    </div>
                                </div>
                                <div class="caption">
                                    <h3>{{ p.nombre }}</h3>
                                </div>
                            </div>
                        </a>
                    </div>
            {% endfor %}

        </div>

        <div class="navigation">
            {{ knp_pagination_render(proveedores,'foundation_v5_pagination.html.twig') }}
        </div>

    </div>

{% endblock %}


{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('js/jquery.flip.min.js') }}"></script>
    <script>
            $(".card").flip({
                axis: 'y',
                trigger: 'hover',
                reverse: false
            });

    </script>

{% endblock %}
